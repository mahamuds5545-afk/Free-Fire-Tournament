<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - FF Tournament</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/admin.css">
</head>
<body class="admin-dashboard">
    <!-- Admin Sidebar -->
    <div class="admin-sidebar">
        <div class="logo">
            <h4><i class="fas fa-fire text-ff"></i> Admin Panel</h4>
            <small class="text-muted">FF Tournament Management</small>
        </div>
        
        <nav class="nav flex-column mt-4">
            <a class="nav-link active" data-section="dashboard">
                <i class="fas fa-tachometer-alt"></i> Dashboard
            </a>
            <a class="nav-link" data-section="users">
                <i class="fas fa-users"></i> Users
            </a>
            <a class="nav-link" data-section="tournaments">
                <i class="fas fa-trophy"></i> Tournaments
            </a>
            <a class="nav-link" data-section="recharge">
                <i class="fas fa-money-check-alt"></i> Recharge Requests
            </a>
            <a class="nav-link" data-section="withdraw">
                <i class="fas fa-money-bill-wave"></i> Withdraw Requests
            </a>
            <a class="nav-link" data-section="notices">
                <i class="fas fa-bullhorn"></i> Notices
            </a>
            <a class="nav-link" data-section="results">
                <i class="fas fa-flag-checkered"></i> Results
            </a>
            <a class="nav-link" data-section="settings">
                <i class="fas fa-cog"></i> Settings
            </a>
            <a class="nav-link text-danger" href="#" id="logoutBtn">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="admin-content">
        <!-- Dashboard Section -->
        <section id="dashboardSection" class="content-section">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-tachometer-alt"></i> Dashboard</h4>
                <button class="btn btn-ff btn-sm" data-bs-toggle="modal" data-bs-target="#createTournamentModal">
                    <i class="fas fa-plus"></i> Create Tournament
                </button>
            </div>
            
            <!-- Stats Cards -->
            <div class="row mb-4">
                <div class="col-md-3">
                    <div class="admin-card stats-card users">
                        <div class="icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3 id="totalUsers">0</h3>
                        <p class="mb-0">Total Users</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="admin-card stats-card tournaments">
                        <div class="icon">
                            <i class="fas fa-trophy"></i>
                        </div>
                        <h3 id="totalTournaments">0</h3>
                        <p class="mb-0">Tournaments</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="admin-card stats-card revenue">
                        <div class="icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <h3 id="totalRevenue">৳0</h3>
                        <p class="mb-0">Total Revenue</p>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="admin-card stats-card requests">
                        <div class="icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3 id="pendingRequests">0</h3>
                        <p class="mb-0">Pending Requests</p>
                    </div>
                </div>
            </div>
            
            <!-- Recent Tournaments -->
            <div class="admin-card">
                <h5><i class="fas fa-history"></i> Recent Tournaments</h5>
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Tournament</th>
                                <th>Status</th>
                                <th>Players</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="recentTournaments">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Users Section -->
        <section id="usersSection" class="content-section d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-users"></i> User Management</h4>
                <div class="input-group" style="width: 300px;">
                    <input type="text" class="form-control" placeholder="Search users..." id="searchUsers">
                    <button class="btn btn-outline-secondary" type="button">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
            </div>
            
            <div class="admin-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>User Details</th>
                                <th>FF ID</th>
                                <th>Balance</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="usersTable">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Tournaments Section -->
        <section id="tournamentsSection" class="content-section d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-trophy"></i> Tournament Management</h4>
                <button class="btn btn-ff btn-sm" data-bs-toggle="modal" data-bs-target="#createTournamentModal">
                    <i class="fas fa-plus"></i> Create Tournament
                </button>
            </div>
            
            <div class="admin-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Tournament</th>
                                <th>Type</th>
                                <th>Schedule</th>
                                <th>Status</th>
                                <th>Players</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="tournamentsTable">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Recharge Requests Section -->
        <section id="rechargeSection" class="content-section d-none">
            <h4 class="mb-4"><i class="fas fa-money-check-alt"></i> Recharge Requests</h4>
            
            <div class="admin-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Amount</th>
                                <th>Method</th>
                                <th>Time</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="rechargeRequestsTable">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Withdraw Requests Section -->
        <section id="withdrawSection" class="content-section d-none">
            <h4 class="mb-4"><i class="fas fa-money-bill-wave"></i> Withdraw Requests</h4>
            
            <div class="admin-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>User</th>
                                <th>Amount</th>
                                <th>Method</th>
                                <th>Time</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="withdrawRequestsTable">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Notices Section -->
        <section id="noticesSection" class="content-section d-none">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h4><i class="fas fa-bullhorn"></i> Notice Management</h4>
                <button class="btn btn-ff btn-sm" data-bs-toggle="modal" data-bs-target="#createNoticeModal">
                    <i class="fas fa-plus"></i> Add Notice
                </button>
            </div>
            
            <div class="admin-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Message</th>
                                <th>Created</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="noticesTable">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="resultsSection" class="content-section d-none">
            <h4 class="mb-4"><i class="fas fa-flag-checkered"></i> Tournament Results</h4>
            
            <div class="admin-card">
                <div class="table-responsive">
                    <table class="table table-hover">
                        <thead>
                            <tr>
                                <th>Tournament</th>
                                <th>Completed</th>
                                <th>Players</th>
                                <th>Winner</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="resultsTable">
                            <!-- Dynamic content -->
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Settings Section -->
        <section id="settingsSection" class="content-section d-none">
            <h4 class="mb-4"><i class="fas fa-cog"></i> Settings</h4>
            
            <div class="row">
                <div class="col-md-6">
                    <div class="admin-card">
                        <h5><i class="fas fa-cogs"></i> System Settings</h5>
                        <form id="settingsForm">
                            <div class="mb-3">
                                <label class="form-label">Minimum Withdrawal (৳)</label>
                                <input type="number" class="form-control" name="minWithdrawal" min="200" value="200">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Default Entry Fee (৳)</label>
                                <input type="number" class="form-control" name="defaultEntryFee" min="0" value="100">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Kill Reward Percentage</label>
                                <input type="number" class="form-control" name="killRewardPercent" min="1" max="100" value="10">
                                <small class="text-muted">Percentage of entry fee that goes to kill rewards</small>
                            </div>
                            <button type="submit" class="btn btn-ff">Save Settings</button>
                        </form>
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="admin-card">
                        <h5><i class="fas fa-info-circle"></i> System Info</h5>
                        <div id="systemInfo">
                            <!-- Dynamic content -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Create Tournament Modal -->
    <div class="modal fade admin-modal" id="createTournamentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-trophy"></i> Create Tournament</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <form id="createTournamentForm">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Tournament Title</label>
                            <input type="text" class="form-control" name="title" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Tournament Type</label>
                            <select class="form-select" name="type" required>
                                <option value="solo">Solo</option>
                                <option value="duo">Duo</option>
                                <option value="squad">Squad</option>
                            </select>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Entry Fee (৳)</label>
                                <input type="number" class="form-control" name="entryFee" min="0" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Prize Pool (৳)</label>
                                <input type="number" class="form-control" name="prize" min="0" required>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Kill Reward (৳)</label>
                                <input type="number" class="form-control" name="killReward" min="0" required>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Max Players</label>
                                <input type="number" class="form-control" name="maxPlayers" min="2" value="25">
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Schedule Date & Time</label>
                            <input type="datetime-local" class="form-control" name="schedule" required>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-ff">Create Tournament</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Create Notice Modal -->
    <div class="modal fade admin-modal" id="createNoticeModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title"><i class="fas fa-bullhorn"></i> Add Notice</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <form id="createNoticeForm">
                    <div class="modal-body">
                        <div class="mb-3">
                            <label class="form-label">Notice Message</label>
                            <textarea class="form-control" name="message" rows="3" required></textarea>
                        </div>
                        <div class="mb-3">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" name="active" id="noticeActive" checked>
                                <label class="form-check-label" for="noticeActive">Active</label>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <button type="submit" class="btn btn-ff">Add Notice</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/common.js"></script>
    <script src="js/admin.js"></script>
</body>
</html>
